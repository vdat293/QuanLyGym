<Page x:Class="QuanLyPhongGym.Views.MemberPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:QuanLyPhongGym.ViewModels"
      Title="Members">
    <Page.DataContext>
        <vm:MainViewModel/>
    </Page.DataContext>

    <DockPanel LastChildFill="True" Margin="8">

        <!-- FOOTER -->
        <Border DockPanel.Dock="Bottom" Height="64" Background="#FFF7F7F7"
        BorderBrush="#DDD" BorderThickness="1,1,1,0" Padding="8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- TrÃ¡i: 3 nÃºt chÃ­nh -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="ThÃªm há»™i viÃªn" Padding="14,8" Margin="6,0"
              Command="{Binding Members.AddCmd}"/>

                    <Button Content="Xuáº¥t file Excel" Padding="14,8" Margin="6,0"
              Command="{Binding Members.ExportCmd}"/>
                </StackPanel>

                <!-- Giá»¯a: tÃ¬m kiáº¿m + cÃ¡c nÃºt -->
                <StackPanel Grid.Column="1" Orientation="Horizontal"
                VerticalAlignment="Center" HorizontalAlignment="Center">

                    <TextBlock Text="ID:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <TextBox Width="80" Text="{Binding Members.SearchIdText, UpdateSourceTrigger=PropertyChanged}"
               Margin="0,0,8,0"/>
                    <TextBlock Text="hoáº·c" VerticalAlignment="Center" FontStyle="Italic"
                 Foreground="Gray" Margin="0,0,8,0"/>
                    <TextBlock Text="TÃªn:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <TextBox Width="160" Text="{Binding Members.SearchNameText, UpdateSourceTrigger=PropertyChanged}"
               Margin="0,0,12,0"/>

                    <Button Content="TÃ¬m kiáº¿m" Padding="14,8" Margin="6,0"
              Command="{Binding Members.LoadCmd}"/>
                    <Button Content="Hiá»ƒn thá»‹ táº¥t cáº£" Padding="14,8" Margin="6,0"
              Command="{Binding Members.ResetCmd}"/>

                    <!-- ðŸ†• NÃºt xÃ³a há»™i viÃªn -->
                    <Button Content="XÃ³a há»™i viÃªn" Padding="14,8" Margin="6,0"
              Background="#FFECECEC" Foreground="Red"
              Command="{Binding Members.DeleteCmd}"/>
                </StackPanel>
            </Grid>
        </Border>





        <!-- Ná»™i dung chiáº¿m pháº§n cÃ²n láº¡i -->
        <DataGrid ItemsSource="{Binding Members.Items}"
              SelectedItem="{Binding Members.Selected}"
              AutoGenerateColumns="False" IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="45"/>
                <DataGridTextColumn Header="Há» tÃªn" Binding="{Binding FullNameDisplay}" Width="160"/>
                <DataGridTextColumn Header="Äiá»‡n thoáº¡i" Binding="{Binding Phone}" Width="80"/>
                <!-- GÃ³i táº­p chá»‰ cáº¥p (Äá»“ng/Báº¡c/VÃ ng/Kim cÆ°Æ¡ng) -->
                <DataGridTextColumn Header="GÃ³i táº­p" Binding="{Binding MembershipPlan.TierDisplay}" Width="160"/>

                <!-- Má»šI: Tráº¡ng thÃ¡i PT -->
                <DataGridTextColumn Header="Tráº¡ng thÃ¡i" Binding="{Binding PtStatusDisplay}" Width="140"/>

                <DataGridTextColumn Header="NgÃ y báº¯t Ä‘áº§u" Binding="{Binding JoinDate, StringFormat={}{0:dd/MM/yyyy}}" Width="120"/>
                <DataGridTextColumn Header="NgÃ y káº¿t thÃºc" Binding="{Binding EndDate, StringFormat={}{0:dd/MM/yyyy}}" Width="120"/>
                <DataGridTextColumn Header="Tá»•ng ngÃ y táº­p" Binding="{Binding TotalTrainingDays}" Width="109"/>
            </DataGrid.Columns>

        </DataGrid>
    </DockPanel>
</Page>
