<Page x:Class="QuanLyPhongGym.Views.SchedulePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:QuanLyPhongGym.ViewModels">
  <Page.DataContext>
    <vm:MainViewModel/>
  </Page.DataContext>
  <DockPanel Margin="8">
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
      <Button Content="Tải" Command="{Binding Schedules.LoadCmd}"/>
      <Button Content="Thêm" Command="{Binding Schedules.AddCmd}"/>
      <Button Content="Lưu" Command="{Binding Schedules.SaveCmd}"/>
      <Button Content="Xoá" Command="{Binding Schedules.DeleteCmd}"/>
    </StackPanel>
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <DataGrid ItemsSource="{Binding Schedules.Items}" SelectedItem="{Binding Schedules.Selected}" AutoGenerateColumns="False">
        <DataGrid.Columns>
          <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
          <DataGridTextColumn Header="Tiêu đề" Binding="{Binding Title}" Width="*"/>
          <DataGridTextColumn Header="Hội viên" Binding="{Binding Member.FullName}" Width="200"/>
          <DataGridTextColumn Header="HLV" Binding="{Binding Trainer.FullName}" Width="200"/>
          <DataGridTextColumn Header="Bắt đầu" Binding="{Binding StartTime}" Width="180"/>
          <DataGridTextColumn Header="Kết thúc" Binding="{Binding EndTime}" Width="180"/>
        </DataGrid.Columns>
      </DataGrid>
      <StackPanel Grid.Column="1" Margin="8,0,0,0">
        <TextBlock Text="Tiêu đề"/>
        <TextBox Text="{Binding Schedules.Selected.Title}"/>
        <TextBlock Text="Hội viên"/>
        <ComboBox ItemsSource="{Binding Schedules.Members}" DisplayMemberPath="FullName" SelectedValuePath="Id"
                  SelectedValue="{Binding Schedules.Selected.MemberId}"/>
        <TextBlock Text="Huấn luyện viên"/>
        <ComboBox ItemsSource="{Binding Schedules.Trainers}" DisplayMemberPath="FullName" SelectedValuePath="Id"
                  SelectedValue="{Binding Schedules.Selected.TrainerId}"/>
        <TextBlock Text="Bắt đầu"/>
        <DatePicker SelectedDate="{Binding Schedules.Selected.StartTime}"/>
        <TextBlock Text="Kết thúc"/>
        <DatePicker SelectedDate="{Binding Schedules.Selected.EndTime}"/>
        <TextBlock Text="Ghi chú"/>
        <TextBox Text="{Binding Schedules.Selected.Notes}" AcceptsReturn="True" Height="120"/>
      </StackPanel>
    </Grid>
  </DockPanel>
</Page>